# Nuxsec workflow command cheat-sheet (numi_fhc_run1)
# Copy a single line as needed for a specific partition/sample or an entire stage.

# Stage 0: build filelists for each partition (uses scripts/build_numi_fhc_run1_filelists.sh defaults)
USER_NAME=nlane RELEASE=v08_00_00_82 NAME=numi_fhc_run1 scripts/build_numi_fhc_run1_filelists.sh

# Stage 1: artio-aggregate (single partition)
build/bin/nuxsec artio-aggregate "beam_s0:inputs/numi_fhc_run1/filelists/beam_s0.list:overlay:numi"
build/bin/nuxsec artio-aggregate "beam_s1:inputs/numi_fhc_run1/filelists/beam_s1.list:overlay:numi"
build/bin/nuxsec artio-aggregate "beam_s2:inputs/numi_fhc_run1/filelists/beam_s2.list:overlay:numi"
build/bin/nuxsec artio-aggregate "beam_s3:inputs/numi_fhc_run1/filelists/beam_s3.list:overlay:numi"
build/bin/nuxsec artio-aggregate "dirt_s0:inputs/numi_fhc_run1/filelists/dirt_s0.list:dirt:numi"
build/bin/nuxsec artio-aggregate "dirt_s1:inputs/numi_fhc_run1/filelists/dirt_s1.list:dirt:numi"
build/bin/nuxsec artio-aggregate "strangeness_run1_fhc:inputs/numi_fhc_run1/filelists/strangeness_run1_fhc.list:strangeness:numi"
build/bin/nuxsec artio-aggregate "ext_p0:inputs/numi_fhc_run1/filelists/ext_p0.list:ext:numi"
build/bin/nuxsec artio-aggregate "ext_p1:inputs/numi_fhc_run1/filelists/ext_p1.list:ext:numi"
build/bin/nuxsec artio-aggregate "ext_p2:inputs/numi_fhc_run1/filelists/ext_p2.list:ext:numi"

# Stage 1 (batch): run all artio-aggregate entries
build/bin/nuxsec artio-aggregate "beam_s0:inputs/numi_fhc_run1/filelists/beam_s0.list:overlay:numi" \
  && build/bin/nuxsec artio-aggregate "beam_s1:inputs/numi_fhc_run1/filelists/beam_s1.list:overlay:numi" \
  && build/bin/nuxsec artio-aggregate "beam_s2:inputs/numi_fhc_run1/filelists/beam_s2.list:overlay:numi" \
  && build/bin/nuxsec artio-aggregate "beam_s3:inputs/numi_fhc_run1/filelists/beam_s3.list:overlay:numi" \
  && build/bin/nuxsec artio-aggregate "dirt_s0:inputs/numi_fhc_run1/filelists/dirt_s0.list:dirt:numi" \
  && build/bin/nuxsec artio-aggregate "dirt_s1:inputs/numi_fhc_run1/filelists/dirt_s1.list:dirt:numi" \
  && build/bin/nuxsec artio-aggregate "strangeness_run1_fhc:inputs/numi_fhc_run1/filelists/strangeness_run1_fhc.list:strangeness:numi" \
  && build/bin/nuxsec artio-aggregate "ext_p0:inputs/numi_fhc_run1/filelists/ext_p0.list:ext:numi" \
  && build/bin/nuxsec artio-aggregate "ext_p1:inputs/numi_fhc_run1/filelists/ext_p1.list:ext:numi" \
  && build/bin/nuxsec artio-aggregate "ext_p2:inputs/numi_fhc_run1/filelists/ext_p2.list:ext:numi"

# Stage 2: sample-aggregate (single sample)
build/bin/nuxsec sample-aggregate "beam:scripts/numi_fhc_run1_sample_beam.list"

# Stage 2 (batch): run all sample-aggregate entries
build/bin/nuxsec sample-aggregate "beam:scripts/numi_fhc_run1_sample_beam.list"

# Stage 3: template-make (templates ROOT from SampleRootIO_samples.tsv)
build/bin/nuxsec template-make build/out/sample/SampleRootIO_samples.tsv build/out/ana/analysis_default.root 8
